<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.1.xsd">


  <changeSet author="liquibase" id="1666281309642-1">
    <createView fullDefinition="true" viewName="STATI_RPT">CREATE OR REPLACE VIEW ${schema}.STATI_RPT (ID, ID_SESSIONE, ID_SESSIONE_ORIGINALE, ID_DOMINIO, IUV, CCP, STATO, INSERTED_BY, INSERTED_TIMESTAMP) AS SELECT ID,ID_SESSIONE,ID_SESSIONE_ORIGINALE,ID_DOMINIO,IUV,CCP,STATO,INSERTED_BY,INSERTED_TIMESTAMP FROM  ${schemaOnline}.STATI_RPT</createView>
  </changeSet>
  <changeSet author="liquibase" id="1666281309642-2">
    <createView fullDefinition="true" viewName="RPT_VERSAMENTI_BOLLO">CREATE OR REPLACE VIEW ${schema}.RPT_VERSAMENTI_BOLLO (ID, PROGRESSIVO, TIPO_BOLLO, HASH_DOCUMENTO, PROVINCIA_RESIDENZA, FK_RPT_VERSAMENTI, INSERTED_TIMESTAMP, UPDATED_TIMESTAMP) AS SELECT ID,PROGRESSIVO,TIPO_BOLLO,HASH_DOCUMENTO,PROVINCIA_RESIDENZA,FK_RPT_VERSAMENTI,INSERTED_TIMESTAMP,UPDATED_TIMESTAMP FROM  ${schemaOnline}.RPT_VERSAMENTI_BOLLO</createView>
  </changeSet>
  <changeSet author="liquibase" id="1666281309642-3">
    <createView fullDefinition="true" viewName="CARRELLO">CREATE OR REPLACE VIEW ${schema}.CARRELLO (ID, ID_SESSIONE, DATA_MSG_RICH, ID_CARRELLO, STAZ_INTERMEDIARIOPA, INTERMEDIARIOPA, CANALE, PSP, INTERMEDIARIOPSP, TIPO_VERSAMENTO, PARAMETRI_PROFILO_PAGAMENTO, INSERTED_TIMESTAMP, UPDATED_TIMESTAMP) AS SELECT ID,ID_SESSIONE,DATA_MSG_RICH,ID_CARRELLO,STAZ_INTERMEDIARIOPA,INTERMEDIARIOPA,CANALE,PSP,INTERMEDIARIOPSP,TIPO_VERSAMENTO,PARAMETRI_PROFILO_PAGAMENTO,INSERTED_TIMESTAMP,UPDATED_TIMESTAMP FROM  ${schemaOnline}.CARRELLO</createView>
  </changeSet>
  <changeSet author="liquibase" id="1666281309642-4">
    <createView fullDefinition="true" viewName="RPT_XML" schemaName="${schema}">CREATE OR REPLACE VIEW ${schema}.RPT_XML (ID, CCP, IDENT_DOMINIO, IUV, FK_RPT, FK_CARRELLO, ID_SESSIONE, ID_CARRELLO, XML_CONTENT, INSERTED_TIMESTAMP, UPDATED_TIMESTAMP) AS select ID,CCP,IDENT_DOMINIO,IUV,FK_RPT,FK_CARRELLO,ID_SESSIONE,ID_CARRELLO,XML_CONTENT,INSERTED_TIMESTAMP,UPDATED_TIMESTAMP from  ${schemaOnline}.RPT_XML</createView>
  </changeSet>
  <changeSet author="liquibase" id="1666281309642-5">
    <createView fullDefinition="true" viewName="RPT_VERSAMENTI">CREATE OR REPLACE VIEW ${schema}.RPT_VERSAMENTI (ID, PROGRESSIVO, IMPORTO, COMMISSIONE_CARICO_PA, IBAN, IBAN_APPOGGIO, BIC_ACCREDITO, BIC_APPOGGIO, CREDENZIALI_PAGATORE, CAUSALE_VERSAMENTO, TIPO_VERSAMENTO, DATI_SPECIFICI_RISCOSSIONE, FK_RPT, INSERTED_TIMESTAMP, UPDATED_TIMESTAMP) AS SELECT ID,PROGRESSIVO,IMPORTO,COMMISSIONE_CARICO_PA,IBAN,IBAN_APPOGGIO,BIC_ACCREDITO,BIC_APPOGGIO,CREDENZIALI_PAGATORE,CAUSALE_VERSAMENTO,TIPO_VERSAMENTO,DATI_SPECIFICI_RISCOSSIONE,FK_RPT,INSERTED_TIMESTAMP,UPDATED_TIMESTAMP FROM  ${schemaOnline}.RPT_VERSAMENTI</createView>
  </changeSet>
  <changeSet author="liquibase" id="1666281309642-7">
    <createView fullDefinition="true" viewName="PM_SESSION_DATA">CREATE OR REPLACE VIEW ${schema}.PM_SESSION_DATA (ID, ID_SESSIONE, TIPO, MOBILE_TOKEN, RRN, TIPO_INTERAZIONE, IMPORTO_TOTALE_PAGATO, ESITO_TRANSAZIONE_CARTA, CODICE_AUTORIZZATIVO, TIMESTAMP_OPERAZIONE, INSERTED_TIMESTAMP, UPDATED_TIMESTAMP, MOTIVO_ANNULLAMENTO) AS SELECT ID,ID_SESSIONE,TIPO,MOBILE_TOKEN,RRN,TIPO_INTERAZIONE,IMPORTO_TOTALE_PAGATO,ESITO_TRANSAZIONE_CARTA,CODICE_AUTORIZZATIVO,TIMESTAMP_OPERAZIONE,INSERTED_TIMESTAMP,UPDATED_TIMESTAMP,MOTIVO_ANNULLAMENTO FROM  ${schemaOnline}.PM_SESSION_DATA</createView>
  </changeSet>
  <changeSet author="liquibase" id="1666281309642-8">
    <createView fullDefinition="true" viewName="RPT_SOGGETTI">CREATE OR REPLACE VIEW ${schema}.RPT_SOGGETTI(RPT_ID,TIPO_SOGGETTO,TIPO_IDENTIFICATIVO_UNIVOCO,CODICE_IDENTIFICATIVO_UNIVOCO,ANAGRAFICA,INDIRIZZO,CIVICO,CAP,LOCALITA,PROVINCIA,NAZIONE,EMAIL,CODICE_UNITOPER,DENOMIN_UNITOPER,INSERTED_TIMESTAMP,UPDATED_TIMESTAMP) AS SELECT RPT_ID,TIPO_SOGGETTO,TIPO_IDENTIFICATIVO_UNIVOCO,CODICE_IDENTIFICATIVO_UNIVOCO,ANAGRAFICA,INDIRIZZO,CIVICO,CAP,LOCALITA,PROVINCIA,NAZIONE,EMAIL,CODICE_UNITOPER,DENOMIN_UNITOPER,INSERTED_TIMESTAMP,UPDATED_TIMESTAMP FROM  ${schemaOnline}.RPT_SOGGETTI</createView>
  </changeSet>
  <changeSet author="liquibase" id="1666281309642-9">
    <createView fullDefinition="true" viewName="STATI_CARRELLO">CREATE OR REPLACE VIEW ${schema}.STATI_CARRELLO(ID_SESSIONE,ID_CARRELLO,STATO,INSERTED_BY,INSERTED_TIMESTAMP,ID_SESSIONE_ORIGINALE,ID) AS SELECT  ID_SESSIONE,ID_CARRELLO,STATO,INSERTED_BY,INSERTED_TIMESTAMP,ID_SESSIONE_ORIGINALE,ID FROM  ${schemaOnline}.STATI_CARRELLO</createView>
  </changeSet>
  <changeSet author="liquibase" id="1666281309642-10">
    <createView fullDefinition="true" viewName="STATI_CARRELLO_SNAPSHOT">CREATE OR REPLACE VIEW ${schema}.STATI_CARRELLO_SNAPSHOT(ID_SESSIONE,ID_CARRELLO,STATO,INSERTED_TIMESTAMP,UPDATED_TIMESTAMP,INSERTED_BY,UPDATED_BY) AS SELECT  ID_SESSIONE,ID_CARRELLO,STATO,INSERTED_TIMESTAMP,UPDATED_TIMESTAMP,INSERTED_BY,UPDATED_BY FROM  ${schemaOnline}.STATI_CARRELLO_SNAPSHOT</createView>
  </changeSet>
  <changeSet author="liquibase" id="1666281309642-11">
    <createView fullDefinition="true" viewName="RT_VERSAMENTI">CREATE OR REPLACE VIEW ${schema}.RT_VERSAMENTI(ID,PROGRESSIVO,IMPORTO_RT,ESITO,CAUSALE_VERSAMENTO,DATI_SPECIFICI_RISCOSSIONE,COMMISSIONE_APPLICATE_PSP,FK_RT,INSERTED_TIMESTAMP,UPDATED_TIMESTAMP) AS SELECT ID,PROGRESSIVO,IMPORTO_RT,ESITO,CAUSALE_VERSAMENTO,DATI_SPECIFICI_RISCOSSIONE,COMMISSIONE_APPLICATE_PSP,FK_RT,INSERTED_TIMESTAMP,UPDATED_TIMESTAMP FROM  ${schemaOnline}.RT_VERSAMENTI</createView>
  </changeSet>
  <changeSet author="liquibase" id="1666281309642-15">
    <createView fullDefinition="true" viewName="RT">CREATE OR REPLACE VIEW ${schema}.RT(ID,ID_SESSIONE,CCP,IDENT_DOMINIO,IUV,COD_ESITO,ESITO,DATA_RICEVUTA,DATA_RICHIESTA,ID_RICEVUTA,ID_RICHIESTA,SOMMA_VERSAMENTI,INSERTED_TIMESTAMP,UPDATED_TIMESTAMP,CANALE) AS SELECT  ID,ID_SESSIONE,CCP,IDENT_DOMINIO,IUV,COD_ESITO,ESITO,DATA_RICEVUTA,DATA_RICHIESTA,ID_RICEVUTA,ID_RICHIESTA,SOMMA_VERSAMENTI,INSERTED_TIMESTAMP,UPDATED_TIMESTAMP,CANALE FROM  ${schemaOnline}.RT</createView>
  </changeSet>
  <changeSet author="liquibase" id="1666281309642-16">
    <createView fullDefinition="true" viewName="STATI_RPT_SNAPSHOT">CREATE OR REPLACE VIEW ${schema}.STATI_RPT_SNAPSHOT(ID_DOMINIO,IUV,CCP,ID_SESSIONE,STATO,INSERTED_TIMESTAMP,UPDATED_TIMESTAMP,INSERTED_BY,UPDATED_BY,PUSH) AS SELECT  ID_DOMINIO,IUV,CCP,ID_SESSIONE,STATO,INSERTED_TIMESTAMP,UPDATED_TIMESTAMP,INSERTED_BY,UPDATED_BY,PUSH FROM  ${schemaOnline}.STATI_RPT_SNAPSHOT</createView>
  </changeSet>
  <changeSet author="liquibase" id="1666281309642-17">
    <createView fullDefinition="true" viewName="RPT">CREATE OR REPLACE VIEW ${schema}.RPT(ID,ID_SESSIONE,CCP,IDENT_DOMINIO,IUV,BIC_ADDEBITO,DATA_MSG_RICH,FLAG_CANC,IBAN_ADDEBITO,ID_MSG_RICH,STAZ_INTERMEDIARIOPA,INTERMEDIARIOPA,CANALE,PSP,INTERMEDIARIOPSP,TIPO_VERSAMENTO,NUM_VERSAMENTI,RT_SIGNATURE_CODE,SOMMA_VERSAMENTI,PARAMETRI_PROFILO_PAGAMENTO,FK_CARRELLO,INSERTED_TIMESTAMP,UPDATED_TIMESTAMP,RICEVUTA_PM,WISP_2) AS SELECT  ID,ID_SESSIONE,CCP,IDENT_DOMINIO,IUV,BIC_ADDEBITO,DATA_MSG_RICH,FLAG_CANC,IBAN_ADDEBITO,ID_MSG_RICH,STAZ_INTERMEDIARIOPA,INTERMEDIARIOPA,CANALE,PSP,INTERMEDIARIOPSP,TIPO_VERSAMENTO,NUM_VERSAMENTI,RT_SIGNATURE_CODE,SOMMA_VERSAMENTI,PARAMETRI_PROFILO_PAGAMENTO,FK_CARRELLO,INSERTED_TIMESTAMP,UPDATED_TIMESTAMP,RICEVUTA_PM,WISP_2 FROM  ${schemaOnline}.RPT</createView>
  </changeSet>
  <changeSet author="liquibase" id="1666281309642-18">
    <createView fullDefinition="true" viewName="RT_XML">CREATE OR REPLACE VIEW ${schema}.RT_XML(ID,CCP,IDENT_DOMINIO,IUV,FK_RT,TIPO_FIRMA,XML_CONTENT,INSERTED_TIMESTAMP,UPDATED_TIMESTAMP,ID_SESSIONE) AS SELECT  ID,CCP,IDENT_DOMINIO,IUV,FK_RT,TIPO_FIRMA,XML_CONTENT,INSERTED_TIMESTAMP,UPDATED_TIMESTAMP,ID_SESSIONE FROM  ${schemaOnline}.RT_XML</createView>
  </changeSet>
  <changeSet author="liquibase" id="1666281309642-19">
    <createView fullDefinition="true" viewName="RT_VERSAMENTI_BOLLO">CREATE OR REPLACE VIEW ${schema}.RT_VERSAMENTI_BOLLO(ID,PROGRESSIVO,TIPO_BOLLO,TIPO_ALLEGATO_RICEVUTA,IUBD,STATO,IMPORTO,ORA_ACQUISTO,FK_RT_VERSAMENTI,ACK_IMPRONTA,ACK_IUDB,ACK_CODICE_FISCALE,ACK_DENOMINAZIONE,INSERTED_TIMESTAMP,UPDATED_TIMESTAMP) AS SELECT  ID,PROGRESSIVO,TIPO_BOLLO,TIPO_ALLEGATO_RICEVUTA,IUBD,STATO,IMPORTO,ORA_ACQUISTO,FK_RT_VERSAMENTI,ACK_IMPRONTA,ACK_IUDB,ACK_CODICE_FISCALE,ACK_DENOMINAZIONE,INSERTED_TIMESTAMP,UPDATED_TIMESTAMP FROM  ${schemaOnline}.RT_VERSAMENTI_BOLLO</createView>
  </changeSet>


</databaseChangeLog>
